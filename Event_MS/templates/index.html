<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <script>
        // This global constant will be available to script.js
        // It will be something like '/events' or '' if directly accessed.
        const EVENT_API_BASE_URL_JS = "{{ EVENT_API_BASE_URL | safe }}";
    </script>

    <div class="container">
        <h1>Event Management System</h1>

        <section class="event-form-section">
            <h2>Create New Event</h2>
            <form id="eventForm">
                <label for="eventName">Event Name:</label>
                <input type="text" id="eventName" name="name" required>

                <label for="eventTime">Date & Time:</label>
                <input type="datetime-local" id="eventTime" name="time" required>

                <label for="closeDate">Subscription Close Date:</label>
                <input type="datetime-local" id="closeDate" name="close_date" required>

                <label for="eventVenue">Venue:</label>
                <input type="text" id="eventVenue" name="venue" required>

                <label for="eventDetails">Details:</label>
                <textarea id="eventDetails" name="details" rows="4" required></textarea>

                <label for="eventPhoto">Event Photo:</label>
                <input type="file" id="eventPhoto" name="photo" accept="image/*">

                <label for="coverCharges">Cover Charges (INR):</label>
                <input type="number" id="coverCharges" name="coverCharges" step="0.01" value="0.00">

                <label for="coverChargesType">Cover Charges Type:</label>
                <select id="coverChargesType" name="coverChargesType">
                    <option value="per_head">Per Head</option>
                    <option value="per_family">Per Family</option>
                </select>

                <label for="vegFoodCharges">Veg Food Charges (INR):</label>
                <input type="number" id="vegFoodCharges" name="vegFoodCharges" step="0.01" value="0.00">

                <label for="vegFoodChargesType">Veg Food Charges Basis:</label>
                <select id="vegFoodChargesType" name="vegFoodChargesType">
                    <option value="per_head">Per Head</option>
                    <option value="per_family">Per Family</option>
                </select>

                <label for="nonVegFoodCharges">Non-Veg Food Charges (INR):</label>
                <input type="number" id="nonVegFoodCharges" name="nonVegFoodCharges" step="0.01" value="0.00">

                <label for="nonVegFoodChargesType">Non-Veg Food Charges Basis:</label>
                <select id="nonVegFoodChargesType" name="nonVegFoodChargesType">
                    <option value="per_head">Per Head</option>
                    <option value="per_family">Per Family</option>
                </select>

                <button type="submit">Create Event</button>
            </form>
            <p id="formMessage" class="message"></p>
        </section>

        <section class="event-list-section">
            <h2>All Events</h2>
            <button id="refreshEvents">Refresh Events</button>
            <div id="eventsList" class="events-grid">
                <p id="noEventsMessage" style="display: none;">No events created yet.</p>
            </div>
        </section>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>